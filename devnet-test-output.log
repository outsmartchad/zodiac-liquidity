Syncing program keys... (use --skip-keys-sync to skip)
Clean completed successfully!
Syncing program ids for the configured cluster (localnet)

All program id declarations are synced.
Checking if encrypted instructions are up to date.
Encrypted instructions are up to date. Skipping build.
Error: Function _ZN109_$LT$arcium_client..idl..arcium..utils..Account$u20$as$u20$core..convert..TryFrom$LT$$RF$$u5b$u8$u5d$$GT$$GT$8try_from17ha037aaf1519dcf38E Stack offset of 721512 exceeded max offset of 4096 by 717416 bytes, please minimize large stack variables. Estimated function frame size: 721536 bytes. Exceeding the maximum stack offset may cause undefined behavior during execution.

warning: constant `COMP_DEF_OFFSET_CLEAR_POSITION` is never used
  --> programs/zodiac_liquidity/src/lib.rs:39:7
   |
39 | const COMP_DEF_OFFSET_CLEAR_POSITION: u32 = comp_def_offset("clear_position");
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: `zodiac_liquidity` (lib) generated 1 warning
    Finished `release` profile [optimized] target(s) in 0.68s
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.35s
     Running unittests src/lib.rs (/app/target/debug/deps/zodiac_liquidity-dfd1186b3ff6587a)
Running tests against devnet cluster (offset: 456)
Starting anchor test against devnet cluster...

Found a 'test' script in the Anchor.toml. Running it as a test suite!

Running test suite: "/app/Anchor.toml"

yarn run v1.22.22
$ /app/node_modules/.bin/ts-mocha -p ./tsconfig.json -t 1000000 'tests/**/*.ts'


  zodiac-liquidity
============================================================
Zodiac Liquidity Tests - Setup
============================================================
Program ID: FMMVCEygM2ewq4y4fmE5UDuyfhuoz4bXmEDDeg9iFPpL
Owner: 5P9MWSyYFnJc9sxsBePXbgXUHuxjuE3T9wsUUYbmuP4R
MXE x25519 pubkey: 1f4adbb53e2cd088c3a2bb835eda299b242c609093aae0ce3731f3eeeee68b62
Encryption cipher initialized
Creating test token mint...
Token mint: 9FbduXDoG4xM1nrbudKQDZ9fjLjmiuBM8AjfApbAny7M
Vault PDA: 6zhfS6eNtkwbfAVABVBWAFZx1moGQ9ELb8kaNDidMViD
User Position PDA: GNYKeAQe3QmBKV4V5Zjvf3SZLnujWiCuSuHu2LTPJ5RZ
    Computation Definition Initialization
init_vault comp def PDA: EJX8W6xXyJVW3Cgs2C3mZabYaLqKkfW1FVMZeJvjyezp
init_vault comp def already exists (141 bytes), skipping
Init vault comp def tx: skipped
      ✔ initializes init_vault computation definition (90ms)
init_user_position comp def PDA: AtDdpxywFm79JA9eQ91ZqKamqVuz1n6xDJFJyNEEfKme
init_user_position comp def already exists (140 bytes), skipping
Init user position comp def tx: skipped
      ✔ initializes init_user_position computation definition (84ms)
deposit comp def PDA: 8SHqgCFcFEP8nuHtFsvMieS98sNRNr3qPUDpJLXjL4Xu
deposit comp def already exists (153 bytes), skipping
Init deposit comp def tx: skipped
      ✔ initializes deposit computation definition (96ms)
reveal_pending_deposits comp def PDA: FBv7CfhRZNc88Apht6Wbk13wkCd6oHy6pptjq89bsGuM
reveal_pending_deposits comp def already exists (141 bytes), skipping
Init reveal pending comp def tx: skipped
      ✔ initializes reveal_pending_deposits computation definition (85ms)
record_lp_tokens comp def PDA: ENBEG9vzNebBoFsP5gcDP8r8v34dAkPwgL5eRHjFZseJ
record_lp_tokens comp def already exists (145 bytes), skipping
Init record LP comp def tx: skipped
      ✔ initializes record_lp_tokens computation definition (86ms)
compute_withdrawal comp def PDA: 7BPHyvom64mXLLGFb8vC3Cn6YvjkwYB2n6oUpP21HdZk
compute_withdrawal comp def already exists (144 bytes), skipping
Init withdraw comp def tx: skipped
      ✔ initializes compute_withdrawal computation definition (87ms)
get_user_position comp def PDA: 2ZPcL5aKHW7eRjmNjvbNLRNtMpCkGcgLfg5Gpz4YfTBk
get_user_position comp def already exists (145 bytes), skipping
Init get position comp def tx: skipped
      ✔ initializes get_user_position computation definition (90ms)
    Vault Creation
Create vault tx: 5NmDMNwFybpG63rDW9PfaY7SEfcjkxHofpoz1J3yUwzuFHwanWXmRD15frDP2zv5tCtuTyxYMTcE1ZNTJmAM8AQJ
      1) creates a new vault
    User Position Creation
Create user position tx: 2B7irTXWSvmLVpfyb65vAgjX93Te68kFfvQrwpn6UuWVMEN3UG7HCtTr3UpADKZQyLzh3n3DiWCdJHPgGF7CV7Fz
Error: Test failed - check the output above for details
